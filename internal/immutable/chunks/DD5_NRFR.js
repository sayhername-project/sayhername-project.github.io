import{q as V,b as K,k as O,l as R,f as Y,o as z,aF as J,aG as Z,aH as Q,h as I,aI as W,aJ as X,aK as x,aL as ee,aM as te,w as se,aN as re,s as $,aO as ae}from"./DqZy_Dts.js";import{g as ie,i as fe}from"./DGxg2AlV.js";import{a as ue,n as oe,c as le}from"./NcpWCyqV.js";import{c as ce,b as ne,s as _e}from"./CWcrhpHt.js";function ve(e,t){if(t){const s=document.body;e.autofocus=!0,V(()=>{document.activeElement===s&&e.focus()})}}let U=!1;function de(){U||(U=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function be(e,t){var s=void 0,a;K(()=>{s!==(s=t())&&(a&&(O(a),a=null),s&&(a=R(()=>{Y(()=>s(e))})))})}function M(e,t,s=!1){if(e.multiple){if(t==null)return;if(!z(t))return J();for(var a of e.options)a.selected=t.includes(m(a));return}for(a of e.options){var f=m(a);if(Z(f,t)){a.selected=!0;return}}(!s||t!==void 0)&&(e.selectedIndex=-1)}function he(e){var t=new MutationObserver(()=>{M(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{t.disconnect()})}function m(e){return"__value"in e?e.__value:e.value}const k=Symbol("class"),N=Symbol("style"),j=Symbol("is custom element"),q=Symbol("is html");function ye(e){if(I){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;L(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var f=e.checked;L(e,"checked",null),e.checked=f}}};e.__on_r=s,V(s),de()}}function ge(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,t,s,a){var f=B(e);I&&(f[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||f[t]!==(f[t]=s)&&(t==="loading"&&(e[X]=s),s==null?e.removeAttribute(t):typeof s!="string"&&D(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function pe(e,t,s,a,f=!1,E=!1){if(I&&f&&e.tagName==="INPUT"){var d=e,T=d.type==="checkbox"?"defaultChecked":"defaultValue";T in s||ye(d)}var b=B(e),_=b[j],h=!b[q];let g=I&&_;g&&$(!1);var u=t||{},p=e.tagName==="OPTION";for(var v in t)v in s||(s[v]=null);s.class?s.class=ce(s.class):(a||s[k])&&(s.class=null),s[N]&&(s.style??=null);var S=D(e);for(const r in s){let i=s[r];if(p&&r==="value"&&i==null){e.value=e.__value="",u[r]=i;continue}if(r==="class"){var A=e.namespaceURI==="http://www.w3.org/1999/xhtml";ne(e,A,i,a,t?.[k],s[k]),u[r]=i,u[k]=s[k];continue}if(r==="style"){_e(e,i,t?.[N],s[N]),u[r]=i,u[N]=s[N];continue}var c=u[r];if(!(i===c&&!(i===void 0&&e.hasAttribute(r)))){u[r]=i;var C=r[0]+r[1];if(C!=="$$")if(C==="on"){const n={},y="$$"+r;let o=r.slice(2);var w=le(o);if(ue(o)&&(o=o.slice(0,-7),n.capture=!0),!w&&c){if(i!=null)continue;e.removeEventListener(o,u[y],n),u[y]=null}if(i!=null)if(w)e[`__${o}`]=i,fe([o]);else{let F=function(G){u[r].call(this,G)};u[y]=ie(o,e,F,n)}else w&&(e[`__${o}`]=void 0)}else if(r==="style")L(e,r,i);else if(r==="autofocus")ve(e,!!i);else if(!_&&(r==="__value"||r==="value"&&i!=null))e.value=e.__value=i;else if(r==="selected"&&p)ge(e,i);else{var l=r;h||(l=oe(l));var P=l==="defaultValue"||l==="defaultChecked";if(i==null&&!_&&!P)if(b[r]=null,l==="value"||l==="checked"){let n=e;const y=t===void 0;if(l==="value"){let o=n.defaultValue;n.removeAttribute(l),n.defaultValue=o,n.value=n.__value=y?o:null}else{let o=n.defaultChecked;n.removeAttribute(l),n.defaultChecked=o,n.checked=y?o:!1}}else e.removeAttribute(r);else P||S.includes(l)&&(_||typeof i!="string")?(e[l]=i,l in b&&(b[l]=ae)):typeof i!="function"&&L(e,l,i)}}}return g&&$(!0),u}function Se(e,t,s=[],a=[],f=[],E,d=!1,T=!1){te(f,s,a,b=>{var _=void 0,h={},g=e.nodeName==="SELECT",u=!1;if(K(()=>{var v=t(...b.map(se)),S=pe(e,_,v,E,d,T);u&&g&&"value"in v&&M(e,v.value);for(let c of Object.getOwnPropertySymbols(h))v[c]||O(h[c]);for(let c of Object.getOwnPropertySymbols(v)){var A=v[c];c.description===re&&(!_||A!==_[c])&&(h[c]&&O(h[c]),h[c]=R(()=>be(e,()=>A))),S[c]=A}_=S}),g){var p=e;Y(()=>{M(p,_.value,!0),he(p)})}u=!0})}function B(e){return e.__attributes??={[j]:e.nodeName.includes("-"),[q]:e.namespaceURI===W}}var H=new Map;function D(e){var t=e.getAttribute("is")||e.nodeName,s=H.get(t);if(s)return s;H.set(t,s=[]);for(var a,f=e,E=Element.prototype;E!==f;){a=ee(f);for(var d in a)a[d].set&&s.push(d);f=x(f)}return s}export{Se as a,L as s};
